!function(){"use strict";angular.module("risevision.widget.common.subscription-status.config",[]).value("STORE_URL","http://store.risevision.com/~rvi/store/").value("PRODUCT_PATH","#/product/productId/").value("STORE_SERVER_URL","https://store-dot-rvaserver2.appspot.com/").value("PATH_URL","v1/company/companyId/product/status?pc=")}(),function(){"use strict";angular.module("risevision.widget.common.subscription-status",["risevision.widget.common.subscription-status.config","risevision.widget.common.service.store"]).directive("subscriptionStatus",["$templateCache","storeService",function(t,s){return{restrict:"AE",require:"?ngModel",scope:{productId:"@",productCode:"@",companyId:"@"},template:t.get("subscription-status-template.html"),link:function(t,i,e,o){t.$watch("companyId",function(i){t.productCode&&t.productId&&i&&s.getSubscriptionStatus(t.productCode,i).then(function(s){t.subscribed=!1,s&&(t.subscribed=!0,t.subscriptionMessage=s.status)})}),o&&t.$watch("subscribed",function(t){o.$setViewValue(t)})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.subscription-status").filter("productUrl",["STORE_URL","PRODUCT_PATH",function(t,s){return function(i){if(i){var e=t;return e+=s.replace("productId",i)}return""}}])}(),function(){"use strict";angular.module("risevision.widget.common.service.store",["risevision.widget.common.subscription-status.config"]).service("storeService",["$http","$q","STORE_SERVER_URL","PATH_URL",function(t,s,i,e){this.getSubscriptionStatus=function(o,n){var r=s.defer(),c=i+e.replace("companyId",n)+o;return t.get(c).then(function(t){t&&t.data&&t.data.length?r.resolve(t.data[0]):r.reject("No response")}),r.promise}}])}(),function(){try{app=angular.module("risevision.widget.common.subscription-status")}catch(t){app=angular.module("risevision.widget.common.subscription-status",[])}app.run(["$templateCache",function(t){"use strict";t.put("subscription-status-template.html",'<a href="{{productId | productUrl}}" target="_blank">\n  <span ng-class="{\'product-trial\':subscribed, \'product-expired\':!subscribed}">\n    <h3>\n      {{subscriptionMessage}}\n      <i class="fa fa-question-circle icon-right"></i>\n    </h3>\n  </span>\n</a>\n')}])}();